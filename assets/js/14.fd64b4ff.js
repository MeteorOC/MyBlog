(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{160:function(t,s,n){"use strict";n.r(s);var a=n(0),e=Object(a.a)({},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"content"},[t._m(0),t._m(1),n("p",[t._v("在之前的一个Hybrid App中我们使用了flexible.js+px2-rem Webpack插件实现移动端自适应的功能，我们发现这种方案能够解决大部分移动端适配的问题，但是总是会有小部分机型我们需要额外适配。")]),t._m(2),n("blockquote",[n("p",[t._v("相关链接：")]),n("p",[n("a",{attrs:{href:"https://www.w3cplus.com/mobile/vw-layout-in-vue.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("如何在Vue项目中使用vw实现移动端适配"),n("OutboundLink")],1)]),n("p",[n("a",{attrs:{href:"https://www.w3cplus.com/mobile/lib-flexible-for-html5-layout.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("使用Flexible实现手淘H5页面的终端适配"),n("OutboundLink")],1)])]),t._m(3),n("p",[t._v("大漠老师使用的这个方案发布于2018-01-25，距我进行实践的时间已经过去差不多一年，而这个时候VueCli版本也升级到了3。")]),n("p",[t._v("如果说只是根据博文，是无法让vw布局生效的，主要是.postcssrc.js这个配置文件不生效的问题。")]),n("p",[t._v("在VueCli3官网，我们可以看到对于PostCSS的支持，它是这么描述的：")]),n("blockquote",[n("p",[t._v("Vue CLI 内部使用了 PostCSS。")]),n("p",[t._v("你可以通过 "),n("code",[t._v(".postcssrc")]),t._v(" 或任何 "),n("a",{attrs:{href:"https://github.com/michael-ciniawsky/postcss-load-config",target:"_blank",rel:"noopener noreferrer"}},[t._v("postcss-load-config"),n("OutboundLink")],1),t._v(" 支持的配置源来配置 PostCSS。也可以通过 "),n("code",[t._v("vue.config.js")]),t._v(" 中的 "),n("code",[t._v("css.loaderOptions.postcss")]),t._v(" 配置 "),n("a",{attrs:{href:"https://github.com/postcss/postcss-loader",target:"_blank",rel:"noopener noreferrer"}},[t._v("postcss-loader"),n("OutboundLink")],1),t._v("。")]),n("p",[t._v("我们默认开启了 "),n("a",{attrs:{href:"https://github.com/postcss/autoprefixer",target:"_blank",rel:"noopener noreferrer"}},[t._v("autoprefixer"),n("OutboundLink")],1),t._v("。如果要配置目标浏览器，可使用 "),n("code",[t._v("package.json")]),t._v(" 的 "),n("a",{attrs:{href:"https://cli.vuejs.org/zh/guide/browser-compatibility.html#browserslist",target:"_blank",rel:"noopener noreferrer"}},[t._v("browserslist"),n("OutboundLink")],1),t._v(" 字段。")])]),n("p",[t._v("但是.postcssrc.js配置文件并没有起到任何效果。")]),n("p",[t._v("但如果在vue.config.js中使用那想必是百分百ok的，找了一些资料，其引用的方式也有区别，最终是实现了博文中的效果。")]),t._m(4),n("p",[t._v("配置完成后，查看DevServer或者编译过后的产物就会发现，非内联px单位全部被转化成了vw。")]),t._m(5),n("p",[t._v("弄清楚为什么VueCli3中.postcssrc.js失效。")])])},[function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"vue-cli3中使用vw布局实践"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vue-cli3中使用vw布局实践","aria-hidden":"true"}},[this._v("#")]),this._v(" Vue-Cli3中使用vw布局实践")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"一、前言"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一、前言","aria-hidden":"true"}},[this._v("#")]),this._v(" 一、前言")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("前几天扒了下资料，大漠老师已经弃用了该方案，随着"),s("code",[this._v("viewport")]),this._v("单位越来越受到众多浏览器的支持，自适应适配也从rem转成了vw。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"二、实践"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#二、实践","aria-hidden":"true"}},[this._v("#")]),this._v(" 二、实践")])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[t._v("module"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    css"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    loaderOptions"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      postcss"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        plugins"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n          "),n("span",{attrs:{class:"token function"}},[t._v("require")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'postcss-write-svg'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" utf8"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token boolean"}},[t._v("false")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),n("span",{attrs:{class:"token function"}},[t._v("require")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'postcss-import'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),n("span",{attrs:{class:"token function"}},[t._v("require")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'postcss-url'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),n("span",{attrs:{class:"token function"}},[t._v("require")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'postcss-aspect-ratio-mini'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),n("span",{attrs:{class:"token function"}},[t._v("require")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'cssnano'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            preset"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v("'advanced'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            autoprefixer"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token boolean"}},[t._v("false")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),n("span",{attrs:{class:"token string"}},[t._v("'postcss-zindex'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n          "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),n("span",{attrs:{class:"token function"}},[t._v("require")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v("'postcss-px-to-viewport'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            viewportWidth"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token number"}},[t._v("750")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{attrs:{class:"token comment"}},[t._v("// (Number) The width of the viewport.")]),t._v("\n            viewportHeight"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token number"}},[t._v("1334")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{attrs:{class:"token comment"}},[t._v("// (Number) The height of the viewport.")]),t._v("\n            unitPrecision"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token number"}},[t._v("3")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{attrs:{class:"token comment"}},[t._v("// (Number) The decimal numbers to allow the REM units to grow to.")]),t._v("\n            viewportUnit"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v("'vw'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{attrs:{class:"token comment"}},[t._v("// (String) Expected units.")]),t._v("\n            selectorBlackList"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{attrs:{class:"token string"}},[t._v("'.ignore'")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v("'.hairlines'")]),n("span",{attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{attrs:{class:"token comment"}},[t._v("// (Array) The selectors to ignore and leave as px.")]),t._v("\n            minPixelValue"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token number"}},[t._v("1")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{attrs:{class:"token comment"}},[t._v("// (Number) Set the minimum pixel value to replace.")]),t._v("\n            mediaQuery"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token boolean"}},[t._v("false")]),t._v(" "),n("span",{attrs:{class:"token comment"}},[t._v("// (Boolean) Allow px to be converted in media queries.")]),t._v("\n          "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),n("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n      "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"三、todo"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#三、todo","aria-hidden":"true"}},[this._v("#")]),this._v(" 三、Todo")])}],!1,null,null,null);e.options.__file="README.md";s.default=e.exports}}]);
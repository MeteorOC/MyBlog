(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{165:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[t._m(0),t._m(1),a("p",[t._v("单元测试主要是测函数给定输入时是否会输出与预期相符的产物，同时也能帮我们检测一些文件引入、调用的错误。")]),a("p",[t._v("对于 Vue 模块来说，其作用可能并不是那么大，不过对于自定义的公共函数来说，意义还是明显，建议各位多少使用一点。")]),t._m(2),t._m(3),t._m(4),t._m(5),t._m(6),t._m(7),t._m(8),t._m(9),t._m(10),t._m(11),t._m(12),t._m(13),t._m(14),t._m(15),t._m(16),t._m(17),t._m(18),t._m(19),t._m(20),t._m(21),a("p",[t._v("完成~")]),a("p",[a("strong",[t._v("更加复杂的用法，请看"),a("a",{attrs:{href:"https://jestjs.io/img/jest.svg",target:"_blank",rel:"noopener noreferrer"}},[t._v("Jest-单元测试"),a("OutboundLink")],1)])])])},[function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"单元测试—jest-简单实践"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#单元测试—jest-简单实践","aria-hidden":"true"}},[this._v("#")]),this._v(" 单元测试—Jest 简单实践")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"前言："}},[s("a",{staticClass:"header-anchor",attrs:{href:"#前言：","aria-hidden":"true"}},[this._v("#")]),this._v(" 前言：")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"start："}},[s("a",{staticClass:"header-anchor",attrs:{href:"#start：","aria-hidden":"true"}},[this._v("#")]),this._v(" Start：")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"_1-可以使用yarn或者npm安装，按个人喜好，本人喜欢用yarn"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-可以使用yarn或者npm安装，按个人喜好，本人喜欢用yarn","aria-hidden":"true"}},[this._v("#")]),this._v(" 1.可以使用"),s("code",[this._v("yarn")]),this._v("或者"),s("code",[this._v("npm")]),this._v("安装，按个人喜好，本人喜欢用"),s("code",[this._v("yarn")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("yarn add -D jest\n//Or\n"),s("span",{attrs:{class:"token function"}},[this._v("npm")]),this._v(" "),s("span",{attrs:{class:"token function"}},[this._v("install")]),this._v(" --save-dev jest\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("安装完成，目录下多了个 jest.config.js 文件，里面是"),s("code",[this._v("Jest")]),this._v("的 config。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("module"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  moduleFileExtensions"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token string"}},[t._v("'js'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'jsx'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'json'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'vue'")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  transform"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token string"}},[t._v("'^.+\\\\.vue$'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'vue-jest'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token string"}},[t._v("'.+\\\\.(css|styl|less|sass|scss|svg|png|jpg|ttf|woff|woff2)$'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'jest-transform-stub'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token string"}},[t._v("'^.+\\\\.jsx?$'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'babel-jest'")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  moduleNameMapper"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token string"}},[t._v("'^@/(.*)$'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'<rootDir>/src/$1'")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  snapshotSerializers"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token string"}},[t._v("'jest-serializer-vue'")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  testMatch"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token string"}},[t._v("'**/tests/unit/**/*.spec.(js|jsx|ts|tsx)|**/__tests__/*.(js|jsx|ts|tsx)'")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  testURL"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'http://localhost/'")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("Jest")]),this._v("单元测试默认是测试你的 Project "),s("code",[this._v("src/test/unit")]),this._v("目录下经过你个人编写的测试文件，文件名字格式如："),s("code",[this._v("xx.spec.js|jsx|ts|tsx")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("可以通过"),s("code",[this._v("testMatch")]),this._v("一项来配置自定义的路径，其它的配置也可以在这里修改，如果"),s("code",[this._v("Jest")]),this._v("测试过程中有什么不可预知的错误，其提示的 config，一般指的就是"),s("code",[this._v("jest.config.js")]),this._v("文件。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"_2-将下面的配置部分添加到-package-json-中："}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-将下面的配置部分添加到-package-json-中：","aria-hidden":"true"}},[this._v("#")]),this._v(" 2.将下面的配置部分添加到 package.json 中：")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{attrs:{class:"token string"}},[t._v('"scripts"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token string"}},[t._v('"test"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"jest"')]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("这时使用"),s("code",[this._v("yarn test")]),this._v("即可启动"),s("code",[this._v("Jest")]),this._v("进行测试。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("blockquote",[a("p",[t._v("使用了 Eslint 的朋友，请在"),a("code",[t._v(".eslintrc.js")]),t._v("中"),a("code",[t._v("env")]),t._v("对象中配"),a("code",[t._v("jest: true")]),t._v("，使得 Eslint 在对"),a("code",[t._v("Jest")]),t._v("测试文件的检测中不报错。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"_3-开始编写你的测试脚本"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-开始编写你的测试脚本","aria-hidden":"true"}},[this._v("#")]),this._v(" 3.开始编写你的测试脚本")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("举个例子："),s("strong",[this._v("tests/unit/test.sepc.js")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" buildErrorMessage "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'@/Utils/Axios/utils'")]),t._v("\n"),a("span",{attrs:{class:"token function"}},[t._v("test")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'测试buildErrorMessage函数输出是否与预期相符'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  process"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("env"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token constant"}},[t._v("NODE_ENV")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'production'")]),t._v("\n  "),a("span",{attrs:{class:"token function"}},[t._v("expect")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token function"}},[t._v("buildErrorMessage")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'you'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("200")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("toBe")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'糟糕！服务器被怪兽吃掉啦QAQ'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{attrs:{class:"token function"}},[t._v("expect")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token function"}},[t._v("buildErrorMessage")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'你'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("200")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("toBe")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'你'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  process"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("env"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token constant"}},[t._v("NODE_ENV")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'development'")]),t._v("\n  "),a("span",{attrs:{class:"token function"}},[t._v("expect")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token function"}},[t._v("buildErrorMessage")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'you'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("200")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("toBe")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'糟糕！服务器被怪兽吃掉啦QAQ(200)'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{attrs:{class:"token function"}},[t._v("expect")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token function"}},[t._v("buildErrorMessage")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'你'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("200")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("toBe")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'你(200)'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("src/Utils/Axios/utils")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("/**\n * 判断是否要给错误消息加上错误码，只在该模块内部使用\n * @param {string} message -错误消息\n * @param {string} code -错误码\n */")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("buildErrorMessage")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("msg"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" code"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("msg"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token comment"}},[t._v("// 判断一下是不是英文的，是英文的给默认提示，这个正则写的不一定完备")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("let")]),t._v(" isEnglish "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token constant"}},[t._v("REG_EXP_ENGLISH")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("test")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("msg"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("let")]),t._v(" processedMessage "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" isEnglish "),a("span",{attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),a("span",{attrs:{class:"token constant"}},[t._v("TIPS_ERROR")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token constant"}},[t._v("DEFAULT_ERROR")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" msg\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" process"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("env"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token constant"}},[t._v("NODE_ENV")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("!==")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'production'")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),a("span",{attrs:{class:"token template-string"}},[a("span",{attrs:{class:"token string"}},[t._v("`")]),a("span",{attrs:{class:"token interpolation"}},[a("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("processedMessage"),a("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{attrs:{class:"token string"}},[t._v("(")]),a("span",{attrs:{class:"token interpolation"}},[a("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("code"),a("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{attrs:{class:"token string"}},[t._v(")`")])]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" processedMessage\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{attrs:{class:"token constant"}},[t._v("TIPS_ERROR")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token constant"}},[t._v("DEFAULT_ERROR")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("//TIPS_ERROR.DEFAULT_ERROR为'糟糕！服务器被怪兽吃掉啦QAQ'")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("测试通过的情况下")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ jest\n PASS  src/tests/unit/test.spec.js\n  ✓ 测试buildErrorMessage函数输出是否与预期相符 "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("4ms"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nTest Suites: 1 passed, 1 total\nTests:       1 passed, 1 total\nSnapshots:   0 total\nTime:        1.325s\nRan all "),a("span",{attrs:{class:"token function"}},[t._v("test")]),t._v(" suites.\n✨  Done "),a("span",{attrs:{class:"token keyword"}},[t._v("in")]),t._v(" 2.30s.\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("测试没有通过会有提示")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("$ jest\n FAIL  src/tests/unit/test.spec.js\n  ✕ 测试buildErrorMessage函数输出是否与预期相符 "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("11ms"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n  ● 测试buildErrorMessage函数输出是否与预期相符\n\n    expect"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("received"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".toBe"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("expected"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" // Object.is equality\n\n    Expected: "),a("span",{attrs:{class:"token string"}},[t._v('"你"')]),t._v("\n    Received: "),a("span",{attrs:{class:"token string"}},[t._v('"你(200)"')]),t._v("\n\n       6 "),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("   process.env.NODE_ENV "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'development'")]),t._v("\n       7 "),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("   expect"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("buildErrorMessage"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'you'")]),t._v(", 200"),a("span",{attrs:{class:"token punctuation"}},[t._v("))")]),t._v(".toBe"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'糟糕！服务器被怪兽吃掉啦QAQ(200)'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v("  8 "),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("   expect"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("buildErrorMessage"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'你'")]),t._v(", 200"),a("span",{attrs:{class:"token punctuation"}},[t._v("))")]),t._v(".toBe"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'你'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n         "),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("                                       ^\n       9 "),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      10 "),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v("\n\n      at Object.toBe "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("src/tests/unit/test.spec.js:8:39"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nTest Suites: 1 failed, 1 total\nTests:       1 failed, 1 total\nSnapshots:   0 total\nTime:        1.315s\nRan all "),a("span",{attrs:{class:"token function"}},[t._v("test")]),t._v(" suites.\nerror Command failed with "),a("span",{attrs:{class:"token keyword"}},[t._v("exit")]),t._v(" code 1.\n")])])])}],!1,null,null,null);e.options.__file="README.md";s.default=e.exports}}]);
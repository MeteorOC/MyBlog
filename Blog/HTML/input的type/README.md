## input的type属性

### 语法

```javascript
<input type="value">
```

### 属性值

| 值                     | 描述                                                         |
| ---------------------- | ------------------------------------------------------------ |
| button                 | 定义可点击的按钮（大多与 JavaScript 使用来启动脚本）         |
| checkbox               | 定义复选框。                                                 |
| color(H5新增)          | 定义拾色器。                                                 |
| date(H5新增)           | 定义日期字段（带有 calendar 控件）                           |
| datetime(H5新增)       | 定义日期字段（带有 calendar 和 time 控件）                   |
| datetime-local(H5新增) | 定义日期字段（带有 calendar 和 time 控件）                   |
| month(H5新增)          | 定义日期字段的月（带有 calendar 控件）                       |
| week(H5新增)           | 定义日期字段的周（带有 calendar 控件）                       |
| time(H5新增)           | 定义日期字段的时、分、秒（带有 time 控件）                   |
| email(H5新增)          | 定义用于 e-mail 地址的文本字段                               |
| file                   | 定义输入字段和 "浏览..." 按钮，供文件上传                    |
| hidden                 | 定义隐藏输入字段                                             |
| image                  | 定义图像作为提交按钮                                         |
| number(H5新增)         | 定义带有 spinner 控件的数字字段                              |
| password               | 定义密码字段。字段中的字符会被遮蔽。                         |
| radio                  | 定义单选按钮。                                               |
| range(H5新增)          | 定义带有 slider 控件的数字字段。                             |
| reset                  | 定义重置按钮。重置按钮会将所有表单字段重置为初始值。         |
| search(H5新增)         | 定义用于搜索的文本字段。                                     |
| submit                 | 定义提交按钮。提交按钮向服务器发送数据。                     |
| tel(H5新增)            | 定义用于电话号码的文本字段。                                 |
| text                   | 默认。定义单行输入字段，用户可在其中输入文本。默认是 20 个字符。 |
| url(H5新增)            | 定义用于 URL 的文本字段。                                    |

### 业务上遇到的坑

很多同学在对手机号码的限制上，应该都会使用`type="number"`然后做一些对小数点的兼容来实现。

但是`type="number"`在IOS和Android端上面显示这个`type="number"`上，隐藏了不少坑。

#### IOS端：

在IOS端WKWebview下，如果是使用`type="number"`，然后将input内的值传给正则进行校验，那么这个值首先是通过浏览器的一层校验，然后才返回给正则。

很多同学看到这里应该觉得没什么不对劲，不过就我在业务上实操，发现WKWebview会对这个值做**处理**：

* 如果含有不符合规范的中文字符，那么返回的值为空

就是说如果在input框内的值为`15521291259，`，那么返回给正则的值则为空，做了空值正则判断的同学输出的错误语句则是提示用户输入值为空，但实际上输入框内是有值的，这就会让用户摸不着头脑了。

#### Android端：

在Android端WebkitWebview下，使用`type="number"`，将input内的值传给正则进行校验，和IOS端WKWebview一样，先通过浏览器校验，然后反值给正则。

* `15521291259.`视为`15521291259`，因为小数点后面没有值，默认为整数。
* 其余情况下，含有不规范字符，返回值为空。

### 为什么需要type？

除了约束浏览器的行为和功能外，还能限制用户输入，但前提是用对type，否则需要多找找资料，确定其中是否有什么坑。